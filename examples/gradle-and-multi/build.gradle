

plugins {
    id 'org.jetbrains.kotlin.multiplatform' version '1.3.10'
}


repositories {
    mavenCentral()

}

kotlin {
    targets {
        fromPreset(presets.jvm, 'jvm')
        fromPreset(presets.js, 'js')
    }

    sourceSets {
        commonMain {
            dependencies {
                implementation 'com.github.cretz.pbandk:pbandk-runtime-common:0.2.0'

            }
        }
        jsMain {
            dependencies {
                implementation 'com.github.cretz.pbandk:pbandk-runtime-js:0.2.0'

            }
            kotlin.srcDir('jsMain')
            resources.srcDir('web')
        }

        jvmMain {
            dependencies {
                implementation 'com.google.protobuf:protobuf-java:3.5.1'
                implementation 'com.github.cretz.pbandk:pbandk-runtime-jvm:0.2.0'
                implementation 'io.javalin:javalin:2.4.0'
            }
        }

    }

}
